<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/style.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
    <title>Member Detail</title>
  </head>
  <body>
    <div class="d-flex justify-content-center">
      <h1 class="title">Member Detail : <%= data.name %></h1>
      <a href="/"
          ><button type="button" class="btn btn-dark">Home</button></a
        >
    </div>
    <div>
      <table class="main-content table">
        <thead>
          <tr>
            <th>Parameter</th>
            <th>Deskripsi</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Nama</td>
            <td><%= data.name %></td>
          </tr>
          <tr>
            <td>Total Aset</td>
            <td><%= data.totalAsset %></td>
          </tr>
          <tr>
            <td>Nama Orang Tua</td>
            <td><%= data.Children[0]?.Parents.name %></td>
          </tr>
          <% for( let index = 0; index < data.Parents.length; index++ ) { %>
          <tr>
            <td>Nama Anak ke - <%= index+1 %></td>
            <td><%= data.Parents[index]?.Children.name %></td>
          </tr>
          <% } %>
        </tbody>
      </table>
      <div style="text-align: center; margin-top: 10px; margin-bottom: 50px">
        <a href="/members/edit/<%= data.id %>"
          ><button type="button" class="btn btn-primary">Edit Member Detail</button></a
        >
      </div>
      <div class="d-flex flex-row justify-content-center">
        <h4 class="mx-4">Aset <%= data.name %></h4>
        <a href="/assets/add/<%= data.id %>"
            ><button type="button" class="btn btn-primary">Add Asset</button></a
          >
      </div>
      <table class="main-content table">
        <thead>
          <tr>
            <th>Nama Aset</th>
            <th>Deskripsi</th>
            <th>Harga</th>
            <th>Aksi</th>
          </tr>
        </thead>
        <tbody>
          <% for( let i = 0; i < data.Assets.length; i++ ) { %>
          <tr>
            <td><%= data.Assets[i].Product?.title %></td>
            <td><%= data.Assets[i].Product?.description %></td>
            <td><%= data.Assets[i].Product?.price %></td>
            <td>
              <a href="/assets/<%= data.Assets[i].id %>"
                ><button type="button" class="btn btn-primary">Edit</button></a
              >
              <a href="/assets/delete/<%= data.Assets[i].id %>"
                ><button type="button" class="btn btn-danger">Delete</button></a
              >
            </td>
          </tr>
          <% } %>
        </tbody>
      </table>
      
    </div>
  </body>
</html>
